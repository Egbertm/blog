---
layout: post
title:  "latex常遇问题"
date: 2017-04-21 11:04:08
categories:工具
tags:  latex 工具
---
* content
{:toc}  
  
latex在安装和使用时难免会出现一些奇怪的问题，下面针对安装和使用事遇到的一些问题
进行总结。




### 安装相关问题

**问题1：** 无法加载环境。  
&emsp;&emsp;Linux 环境变量读取的顺序是先读取/etc/profile,该文件为每一个Linux用户
提供有用且相同的环境，第二文件/etc/environment，该文件是读取用户自己的配置文件
之前加载系统的环境变量。第三个文件，是用户目录下的~/.profile文件每个用户都可使
用该文件输入专用于自己使用的 shell 信息，该文件仅仅执行一次。默认情况下，它设置
一些环境变量，执行用户的 .bashrc 文件。因此在遇到不能登录的时候即可查询一下环境
变量的配置。

**问题2：**在安装的GUI界面出现红色警告信息  
&emsp;&emsp;多半是对于一些文件该程序没有权限，需要赋予一定的读写文件夹的权限。  

### 使用相关问题  

**问题**关于tex文档的placehold，首次配置时感觉很费事，每次敲 `{}<++>`感觉不喜欢
，于是经过Google 发现可以自己设置关闭这个功能，具体操作可以参考 [链接
](https://tex.stackexchange.com/questions/20829/what-does-signify-when-using-vim-latexsuite)可以直接修改LaTeXSuit的tetrc文件，在目录~/.vim/ftplugin/latex-suite
中。

>The Vim-LaTex / LaTeX-Suite for Vim adds these markers automatically and by
>intension. You can jump to the next such marker using CTRL+J, which removes this
>marker. The idea is to speed things up by allowing you to jump to the end of the
>group or environment which was just added. This is also useful for templates
>where you can add <+name+> markers which then can be also accessed using the
>above key combination to insert the content.
>
>You should be able to deactivate the auto-insertion of these markers using the
>command:
>
>let g:Imap_UsePlaceHolders = 0

**问题** 关于编写模板中出现的一些问题

* Latex 表格控制
    ```latex
    \begin{center}
    \begin{tabu} to 0.8\textwidth{X[c]|X[3,c]|X[1,c]||X[c]|X[3,c]|X[1,c]}
    \hline
    $i$  &$x_i$              &$n_i$      &$i$    &$x_i$               &$n_i$\\
    \hline
    1    &0.5$\sim$0.64       &1           &8    &1.48$\sim$1.62      &53\\
    2    &0.64$\sim$0.78      &2           &9    &1.62$\sim$1.76      &25\\
    3    &0.78$\sim$0.92      &9           &10   &1.76$\sim$1.90      &19\\
    4    &0.92$\sim$1.06      &26          &11   &1.90$\sim$2.04      &16\\
    5    &1.06$\sim$1.20      &37          &12   &2.04$\sim$2.18      &3\\
    6    &1.20$\sim$1.34      &53          &13   &2.18$\sim$2.38      &1\\
    7    &1.34$\sim$1.48      &56          &     &                    & \\
    \hline
    \end{tabu}
    \end{center}
    
    ```
* 添加图片

```latex
\usepackage[font={bf, footnotesize}, textfont=md]{caption}
\makeatletter 
    \newcommand\fcaption{\def\@captype{figure}\caption}
\makeatother

\begin{center}
    \includegraphics[width=12cm]{yourfile}
    \fcaption{Some caption}\label{myFigure}
\end{center}

```
* 关于浮动图片和浮动表格

1. 创建浮动图片

```language
\begin{figure} 
  \centering 
  \includegraphics[totalheight=2in]{graph.eps} 
  \caption{This is an inserted EPS graphic} \label{fig:graph} 
\end{figure}
```
对于图形环境，应当注意：
* \label 命令和 \ref, \pageref 命令配合使用， 可对图形标题进行交叉引用。而 \label 命令必须紧接着 \caption  命令给出。
* 如果一图形环境中没有使用 \caption 命令，那么它将是一 个没有编号的浮动图形。
* 如果一图形环境中使用了多个 \caption 命令，那么它将生成 多个一起浮动的图形。这在排版并列放置的图形（见 第 27 章）或像图 19.1-19.7 那样复杂排列的 图形时是非常有用的。
* 可用命令 \listoffigures 来得到一个图形目录。
* 缺省地，图形标题将在图形目录中列出。 \caption 命令有一可选项 可用来将与标题文本不同的内容加到图形目录中。如：

      \caption[List Text]{Caption Text}
会在标题中使用 Caption Text 而在图形目录中使用  List Text。这在使用了特别长的标题时会很有用。
* 图形环境（figure）不能在段落中使用。因此也不能在 像 parbox 或 minipage 等盒子中使用。
若一图形环境（figure）被置于一正文段落中，

```language
....text text text text text text 
\begin{figure} 
   .... 
\end{figure} 

text text text text text text...
```
那么它在正文段落结束之前不会被处理。  
2. 不浮动的图形  
&emsp;&emsp; LATEX 允许图形和 表格浮动以增强排版效果。不过，偶尔也会希望
一幅图形不要浮动， 就放置在与它在 LATEX 源文件中相同的位置20.1。  \caption 命令
可以在 figure 和 table 环境中 使用是因为这两个环境各自定义了内部命令 \@captype
。这样，通过定义  \@captype 就可以在 figure 和 table 环境外 使用 \caption 命令。
当然这时 \@captype 必须用 \makeatletter-\makeatother 命令对包围起来，使得可以在
命令名中使用 @。 在每次使用时可用如下的命令：  
```language
\includegraphics{file.eps} 
\makeatletter\def\@captype{figure}\makeatother 
\caption{This is the caption}

```
在导言区中定义下面的命令会更加方便。
```language

\makeatletter 
  \newcommand\figcaption{\def\@captype{figure}\caption} 
  \newcommand\tabcaption{\def\@captype{table}\caption} 
\makeatother
```
这样在正文中无论是否在图形环境中，都可用 \figcaption 来得到图形标题。 同样地，
无论是否在表格环境中，都可用 \tabcaption 来得到表格标题。 下面的

```language
This is the text before the figure. 
\\[\intextsep] 
  \begin{minipage}{\textwidth} 
    \centering 
    \includegraphics[width=2in]{graphic.eps}% 
    \figcaption{This is a non-floating figure} 
    \label{fig:non:float} 
  \end{minipage} 
\\[\intextsep] 
This is the text after the figure.
```
 可得到一幅不浮动的图形。对于不浮动的图形，需要注意下面几点：
* 需要使用小页环境（minipage）来防止在图形中出现分页的情况。
* 命令 \\[\intextsep] 开始一新行并在图形的前后加上 垂直的空白。任意大小的空白都可以， \intextsep （见 第 18.1 节）被用来使不浮动的图形具有与浮动图形相同的上 下间距。
* 一般地，浮动图形是按照它们在 LATEX 源文件中的顺序一一被放置的。 而不浮动的图形是被立即放置到页面上，所以可能会出现图形顺序错误的 情况，图形出现的顺序被打乱 20.2。要避免这种顺序 错乱，可在不浮动的图形前用 \clearpage 或 \FloatBarrier 命令 清除未处理的浮动图形（见第 16.3 节）。
* \figcaption 和 \tabcaption 在生成边注图形（见 第 21 章）以及与图形并列的表格（见 第 29 章）时会很有用。

**复杂表格**关于绘制复杂表格问题。

```language
        \begin{center}
          \captionof{table}{预测的分类结果}\label{tab:tabset2}
      %    \caption{示例表格}\label{tab:test}
          \begin{tabular}{cccc}
            \toprule
            \multirow{2}{*}{比较指标}& \multirow{2}{*}{数据集} &
            \multicolumn{2}{c}{KNN算法} \\
            \cline{3-4}
         & & DIEIC & 改进的DIEIC \\
            \midrule
            \multirow{4}{*}{预测精度\%}& D\_Set\_1 & 66.48 & 67.34 \\
            & D\_Set\_2 & 66.33 & 67.42 \\
            & D\_Set\_3 & 66.35& 67.30 \\
            & D\_Set1 & 66.45 & 67.21 \\
            \bottomrule
          \end{tabular}
        \end{center}

```

**问题**Latex 通栏和双栏问题
关于LaTeX中通栏和双栏可以使用multicol宏包，在需要通栏的时候关闭掉双栏，这个方法
可以得到通栏的图片，通栏的表格以及通栏的公式。当然网上也有使用如下方法得到通栏
的图片和表格的:
```language
\begin{figure*}
\end{figure*}
%通栏的表格如下：  
\begin{table*}
\begin{table*}
```
关于这两点，在使用这种格式的通栏时，表格或者是图片不在具有浮动的特性而且它们的
排版可能会到下一页的开始位置。  

