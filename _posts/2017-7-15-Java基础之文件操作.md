---
layout: post
title:  "Java基础之文件操作"
date: 2017-07-15 21:30:39
categories: Java基础
tags:  Java
---
* content
{:toc}  
  
一门程序设计语言对于文件操作的简易程度直接关系到该语言它本身的易用程度，某种意
义上也代表着这类语言它的设计本身的特性。Java作为面向对象的程序设计语言，在对文
件操作的支持这块，也是非常完善。




### 认识Java文件系统

如下框架:

```

                                         ---BufferedReader
                                        |---InputStreamReader --FileReader
                                        |---StringReader
                             |---Reader |---PipedReader
                             |          |---ByteArrayReader
                             |          |---FilterReader-- PushbackReader
                             |
                             |
           ----------字符流---
          |                  |
          |                  |         |---BufferedWriter
          |                  |         |---OutputStreamWriter --FileWriter
          |                  |         |---PrinterWriter
          |                  |         |---StringWriter
          |                  |---Writer
          |                            |---PipedWriter
          |                            |---CharArrayWriter
          |                            |---FilterWriter
          |                  
IO 流-----|                                              |BufferedInputStream
          |                                  |FileInputStream                  
          |                                  |           |BufferedInputStream
          |
          |                                  |-FilterInputStream-DataInputStream
          |                                  |           |PushbakInputStream
          |                  |---InputStream |-ObejectInputStream
          |                  |               |-PipedInputStream
          |                  |               |-SequenceInputStream
          |                  |               |-StringBufferInputStream
          |                  |               |-ByteArrayInputStream
          |                  |
          |                  |
          |                  |
          |-------字节流---
                             |
                             |
                             |               |-FileOutPutStream
                             |               |-      |- BufferedOutPutStream
                             |               |-FilterOutputStream                                             
                             |               |-      |- DataOutputStream                                      
                             |               |-      |- PrintStream                                           
                             |--OutputStream
                                             |-ObjectOutStream
                                             |-PipedOutputStream
                                             |-ByteArrayOutputStream
                                            
```                                         
**创建文件**

``` java

    public static boolean createFile(String filePath){
        boolean res = false;
        File file = new File(filePath);
        if (!file.exists()){
        
            try {
                res = file.createNewFile();
            } catch(Exception e){
                e.printStackTrace();
            }
        }
        return res;
        }
```

**创建文件夹**
``` java

    public static boolean createDirectory(String directory){
    
        boolean res = false;
        File file = new File(directory);
        if(!file.exists()){
            try {
                file.mkdirs();
            } catch(Exception e){
                e.printStackTrace();
            }
        }
        return res;
    }

```

**删除文件**

``` java
    public static boolean deleteFile(String filePath){
    
        boolean res = false;
        File file = new File(filePath);
        if(file.exists()&&file.isFile()){
            file.delete();
        }
        return res;
    }
```
**递归删除文件夹**

``` java
    public static void deleteDirectory(String path){
    
    
        File file = new File(path);
        if (!file.exists()){
        
            return;
        }
        if (file.exists()&&file.isFile()){
            file.delete();
            System.out.println(file.getName());
        }else if(file.isDirectory()){
            File []files = file.listFiles();
            for(File myfile:files){
                System.out.println(myfile.getName()+"iiii");
                deleteDirectory(path+"/"+myfile.getName());
            }
            file.delete();
        }
    }

```
**读文件（字节流）**

``` java
    public static String readFileByBytes(String path){
    
        StringBuffer sb = new StringBuffer();
        File file = new File(path);
        if (!file.exists()){
        
            return null;
        }

        try {
            byte []b = new byte[1024];
            FileInputStream fin = new FileInputStream(file);
            while(fin.read(b)!=-1){
                sb.append(new String(b));
                b = new byte[1024];
            }
            fin.close();
        } catch(Exception e){
            e.printStackTrace();
        }
        return sb.toString();
    }

```

**读文件（字符流）**

``` java
    public static String readFileByChars(String path){
    
        File file = new File(path);
        if (!file.exists()){
        
            return null;
        }

        StringBuffer sb = new StringBuffer();
        try {
            char []c = new char[1024];
            FileInputStream fin = new FileInputStream(file);
            InputStreamReader inr = new InputStreamReader(fin);
            while(inr.read(c)!=-1){
            
                sb.append(new String(c));
                c = new char[1024];
            }
        } catch(Exception e){
            e.printStackTrace();
        }
        return sb.toString();
    }

```

**读取文件（行读取）**

``` java
    public static String readFileByline(String path){
    
        File file = new File(path);
        if (!file.exists()){
        
            return null;
        }
        StringBuffer sb = new StringBuffer();

        try {
            FileInputStream fin = new FileInputStream(file);
            InputStreamReader inr = new InputStreamReader(fin);
            BufferedReader br = new BufferedReader(inr);
            String line = "";
            while((line = br.readLine())!=null){
            
                sb.append(line+"\r\n");
            }
            br.close();
            inr.close();
            fin.close();
        } catch(Exception e){
            e.printStackTrace();
        }
        return sb.toString();
    }

```

**写文件(字符流)**

``` java
    public static void writeFileByStream(String path,String content){
    
        File file = new File(path);
        synchronized (file){
        
            try {
                FileOutputStream fos = new FileOutputStream(file,true);
                BufferedOutputStream bos = new BufferedOutputStream(fos);
                bos.write(content.getBytes());
                bos.flush();
                bos.close();
            } catch(Exception e){
                e.printStackTrace();
            }
        }

    }

```

**写文件（BufferWriter）**

``` java
    public static void writeFileByWriter(String path,String content){
    
        File file = new File(path);

        try {
            FileOutputStream fos = new FileOutputStream(file,true);
            BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos));
            bw.write(content);
            bw.flush();
            fos.close();

        } catch(Exception e){
            e.printStackTrace();
        }
    }

```
**写文件（FileWriter）**

``` java
    public static void writeFileByFileWriter(String path,String content){
        try {
            FileWriter fw = new FileWriter(path,true);
            fw.write(content);
            fw.close();
        } catch(Exception e){
            e.printStackTrace();
        }
    }

```
**控制台读字符操作 (BufferReader)**

``` java

    public static void readContentInConsole(){
    
        try {
            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
            String s = br.readLine();
            System.out.println(s);
            
        } catch(Exception e){
            e.printStackTrace();
        }

    }
```

**读取控制台文件（Scanner）**

``` java
    public static void readContentInConsoleByScanner(){
    
        try {

            System.out.println("请输入：");
            Scanner sc = new Scanner(System.in);
            // String s = sc.nextLine();
            String line = "uu";
            while (sc.hasNextLine()) {
                line = sc.nextLine();
                if (line.equals("exit")){
                    break;
                }
               System.out.println(line);
            }
        } catch(Exception e){
            e.printStackTrace();
        }
    }
```

